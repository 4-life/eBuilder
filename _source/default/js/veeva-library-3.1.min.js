var com;if(com==null)com={};if(com.veeva==undefined)com.veeva={};com.veeva.clm={getAddresses_Account:function(account,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("account",account);if(ret.success==false){com.veeva.clm.wrapResult("getAddresses_Account",callback,ret);return;}
window["com_veeva_clm_accountAddresses"]=function(result){com.veeva.clm.wrapResult("getAddresses_Account",callback,result);}
query="veeva:queryObject(Address_vod__c),fields(ID),where(WHERE Account_vod__c=\""+account+"\"),com_veeva_clm_accountAddresses(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_accountAddresses(com.veeva.clm.testResult.common);},getAddressFields:function(record,fields,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("record",record);if(ret.success==false){com.veeva.clm.wrapResult("getAddressFields",callback,ret);return;}
if(fields==undefined||fields==null){fields=["ID"];}
window["com_veeva_clm_addressValues"]=function(result){com.veeva.clm.wrapResult("getAddressFields",callback,result);}
query="veeva:queryObject(Address_vod__c),fields("+this.joinFieldArray(fields)+"),where(WHERE IdNumber=\""+record+"\"),com_veeva_clm_addressValues(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_addressValues(com.veeva.clm.testResult.common);},getProduct_MySetup:function(type,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("type",type);if(ret.success==false){com.veeva.clm.wrapResult("getProduct_MySetup",callback,ret);return;}
window["com_veeva_clm_productMysetup"]=function(result){com.veeva.clm.wrapResult("getProduct_MySetup",callback,result);};query="veeva:queryObject(Product_vod__c),fields(ID),where(WHERE Product_Type_vod__c=\""+type+"\"),com_veeva_clm_productMysetup(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_productMysetup(com.veeva.clm.testResult.common);},getRecordType_Object:function(object,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("getRecordType_Object",callback,ret);return;}
window["com_veeva_clm_objectRecordTypes"]=function(result){com.veeva.clm.wrapResult("getRecordType_Object",callback,result);}
query="veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType=\""+object+"\" and IsActive == YES),com_veeva_clm_objectRecordTypes(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_objectRecordTypes(com.veeva.clm.testResult.common);},getSurveyQuestions_Survey:function(survey,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("survey",survey);if(ret.success==false){com.veeva.clm.wrapResult("getSurveyQuestions_Survey",callback,ret);return;}
window["com_veeva_clm_surveyQuestions"]=function(result){com.veeva.clm.wrapResult("getSurveyQuestions_Survey",callback,result);}
query="veeva:queryObject(Survey_Question_vod__c),fields(ID),where(WHERE Survey_vod__c=\""+survey+"\"),sort(Order_vod__c,asc),com_veeva_clm_surveyQuestions(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_surveyQuestions(com.veeva.clm.testResult.common);},getQuestionResponse_SurveyTarget:function(surveytarget,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("surveytarget",surveytarget);if(ret.success==false){com.veeva.clm.wrapResult("getQuestionResponse_SurveyTarget",callback,ret);return;}
window["com_veeva_clm_targetResponses"]=function(result){com.veeva.clm.wrapResult("getQuestionResponse_SurveyTarget",callback,result);}
query="veeva:queryObject(Question_Response_vod__c),fields(ID),where(WHERE Survey_Target_vod__c=\""+surveytarget+"\"),sort(Order_vod__c,asc),com_veeva_clm_targetResponses(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_targetResponses(com.veeva.clm.testResult.common);},getSurveyTarget_Account:function(account,survey,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("account",account);if(ret.success==false){com.veeva.clm.wrapResult("getSurveyTarget_Account",callback,ret);return;}
window["com_veeva_clm_accountSurveyTargets"]=function(result){com.veeva.clm.wrapResult("getSurveyTarget_Account",callback,result);}
query=null;if(survey==null||survey==""){query="veeva:queryObject(Survey_Target_vod__c),fields(ID),where(WHERE Account_vod__c=\""+account+"\"),com_veeva_clm_accountSurveyTargets(result)";}else{query="veeva:queryObject(Survey_Target_vod__c),fields(ID),where(WHERE Account_vod__c=\""+account+"\" AND Survey_vod__c=\""+survey+"\"),com_veeva_clm_accountSurveyTargets(result)";}
if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_accountSurveyTargets(com.veeva.clm.testResult.common);},getProduct_OrderActive_Account:function(accountOrAccountGroup,callback){var orderProducts;var ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;window["com_veeva_clm_ordersWithListPrice"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success){orderIds=[];if(result.Pricing_Rule_vod__c&&result.Pricing_Rule_vod__c.length>0){for(i=0;i<result.Pricing_Rule_vod__c.length;i++){orderIds.push(result.Pricing_Rule_vod__c[i].Product_vod__c);}}
ret.success=true;ret.Product_vod__c=orderIds;com.veeva.clm.wrapResult("getProduct_OrderActive_Account",callback,ret);}else{com.veeva.clm.wrapResult("getProduct_OrderActive_Account",callback,result);}};window["com_veeva_clm_listPriceTypeId"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success&&result.RecordType&&result.RecordType.length>0){listPriceRecordTypeId=result.RecordType[0].ID;var ids=[];for(i=0;i<orderProducts.length;i++){ids.push(orderProducts[i].ID);}
dateString=com.veeva.clm.getCurrentDate();query=null;if(accountOrAccountGroup==null||accountOrAccountGroup==""){query="veeva:queryObject(Pricing_Rule_vod__c),fields(ID,Product_vod__c),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND Start_Date_vod__c <= \""+dateString
+"\" AND End_Date_vod__c >= \""+dateString+"\" AND Product_vod__c IN "+com.veeva.clm.joinStringArrayForIn(ids)+"), com_veeva_clm_ordersWithListPrice(result)";}else{query="veeva:queryObject(Pricing_Rule_vod__c),fields(ID,Product_vod__c),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND (Account_vod__c=\""+accountOrAccountGroup
+"\" OR Account_Group_vod__c = \""+accountOrAccountGroup+"\") AND Start_Date_vod__c <=\""+dateString+"\" AND End_Date_vod__c >= \""+dateString
+"\" AND Product_vod__c IN "+com.veeva.clm.joinStringArrayForIn(ids)+"), com_veeva_clm_ordersWithListPrice(result)";}
if(!com.veeva.clm.testMode){com.veeva.clm.runAPIRequest(query);}else{com_veeva_clm_ordersWithListPrice(testResult.listPrices)}}else{com.veeva.clm.wrapResult("getProduct_OrderActive_Account",callback,result);}};this.getProduct_MySetup("Order",function(result){if(result.success){orderProducts=result.Product_vod__c;if(orderProducts&&orderProducts.length>0){recordTypeQuery="veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType=\"Pricing_Rule_vod__c\" AND Name_vod__c=\"List_Price_Rule_vod\"),com_veeva_clm_listPriceTypeId(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(recordTypeQuery);else
com_veeva_clm_listPriceTypeId(testResult.listPriceRecordType);}else{ret.success=true;ret.Product_vod__c=[];com.veeva.clm.wrapResult("getProduct_OrderActive_Account",callback,ret);return;}}else{com.veeva.clm.wrapResult("getProduct_OrderActive_Account",callback,result);}});},getProduct_KitComponents:function(product,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("product",product);if(ret.success==false){com.veeva.clm.wrapResult("getProduct_KitComponents",callback,ret);return;}
window["com_veeva_clm_childKitItems"]=function(result){com.veeva.clm.wrapResult("getProduct_KitComponents",callback,result);};query="veeva:queryObject(Product_vod__c),fields(ID),where(WHERE Product_Type_vod__c=\"Kit Item\" AND Parent_Product_vod__c=\""+product+"\"),com_veeva_clm_childKitItems(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_childKitItems(com.veeva.clm.testResult.common);},getProductGroup_Product:function(product,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("product",product);if(ret.success==false){com.veeva.clm.wrapResult("getProductGroup_Product",callback,ret);return;}
window["com_veeva_clm_productProductGroups"]=function(result){result=com.veeva.clm.formatResult(result);var ret={};if(result!=null&&result.success){var rows=result.Product_Group_vod__c;var groupIds=[];if(rows&&rows.length>0){for(i=0;i<rows.length;i++){groupIds.push(rows[i].Product_Catalog_vod__c);}}
ret.success=true;ret.Product_vod__c=groupIds;com.veeva.clm.wrapResult("getProductGroup_Product",callback,ret);}else if(result!=null){com.veeva.clm.wrapResult("getProductGroup_Product",callback,result);}else{}};query="veeva:queryObject(Product_Group_vod__c),fields(ID,Product_Catalog_vod__c),where(WHERE Product_vod__c=\""+product+"\"),com_veeva_clm_productProductGroups(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_productProductGroups(com.veeva.clm.testResult.common);},getLastTenOrders_Account:function(account,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("account",account);if(ret.success==false){com.veeva.clm.wrapResult("getLastTenOrders_Account",callback,ret);return;}
window["com_veeva_clm_accountLastTenOrders"]=function(result){com.veeva.clm.wrapResult("getLastTenOrders_Account",callback,result);};query="veeva:queryObject(Order_vod__c),fields(ID),where(WHERE Account_vod__c=\""+account+"\"),sort(Order_Date_vod__c,desc),limit(10),com_veeva_clm_accountLastTenOrders(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_accountLastTenOrders(com.veeva.clm.testResult.common);},getOrderLines_Order:function(order,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("order",order);if(ret.success==false){com.veeva.clm.wrapResult("getOrderLines_Order",callback,ret);return;}
window["com_veeva_clm_orderLines"]=function(result){com.veeva.clm.wrapResult("getOrderLines_Order",callback,result);};query="veeva:queryObject(Order_Line_vod__c),fields(ID),where(WHERE Order_vod__c=\""+order+"\"),com_veeva_clm_orderLines(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_orderLines(com.veeva.clm.testResult.common);},getListPrice_Product:function(product,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("product",product);if(ret.success==false){com.veeva.clm.wrapResult("getListPrice_Product",callback,ret);return;}
window["com_veeva_clm_productPricingRules"]=function(result){com.veeva.clm.wrapResult("getListPrice_Product",callback,result);};window["com_veeva_clm_listPriceTypeId_getListPrice_Product"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success&&result.RecordType&&result.RecordType.length>0){listPriceRecordTypeId=result.RecordType[0].ID;dateString=com.veeva.clm.getCurrentDate();query="veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND Product_vod__c = \""+product+"\""
+" AND Start_Date_vod__c <= \""+dateString+"\" AND End_Date_vod__c >= \""+dateString+"\"), com_veeva_clm_productPricingRules(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_productPricingRules(com.veeva.clm.testResult.listPrices);}else{com.veeva.clm.wrapResult("getListPrice_Product",callback,result);}};recordTypeQuery="veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType=\"Pricing_Rule_vod__c\" AND Name_vod__c=\"List_Price_Rule_vod\"),com_veeva_clm_listPriceTypeId_getListPrice_Product(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(recordTypeQuery);else
com_veeva_clm_listPriceTypeId_getListPrice_Product(testResult.listPriceRecordType);},getListPrice_Product_Account:function(product,account,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("product",product);if(ret.success==false){com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,ret);return;}
ret=this.checkArgument("account",account);if(ret.success==false){com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,ret);return;}
window["com_veeva_clm_productDefaultPricingRules"]=function(result){com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,result);};window["com_veeva_clm_get_productDefaultPricingRules"]=function(){dateString=com.veeva.clm.getCurrentDate();groupQuery="veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND Product_vod__c = \""+product+"\""
+" AND Account_Group_vod__c=\"\" AND Account_vod__c=\"\""
+" AND Start_Date_vod__c <= \""+dateString+"\" AND End_Date_vod__c >= \""+dateString+"\"), com_veeva_clm_productDefaultPricingRules(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(groupQuery);else{com_veeva_clm_productDefaultPricingRules(com.veeva.clm.testResult.listPrices);}};window["com_veeva_clm_productAccountGroupPricingRules"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success&&result.Pricing_Rule_vod__c.length==0){com_veeva_clm_get_productDefaultPricingRules();}
else
com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,result);};window['com_veeva_clm_accountGroup']=function(result){result=com.veeva.clm.formatResult(result);if(result.success){accountGroup=result.Account.Account_Group_vod__c;if(accountGroup!=undefined&&accountGroup!=""){dateString=com.veeva.clm.getCurrentDate();groupQuery="veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND Product_vod__c = \""+product+"\""
+" AND Account_Group_vod__c=\""+accountGroup+"\""
+" AND Start_Date_vod__c <= \""+dateString+"\" AND End_Date_vod__c >= \""+dateString+"\"), com_veeva_clm_productAccountGroupPricingRules(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(groupQuery);else{com_veeva_clm_productAccountGroupPricingRules(com.veeva.clm.testResult.listPrices);}}else{com_veeva_clm_get_productDefaultPricingRules();}}
else{com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,result);}};window["com_veeva_clm_productAccountPricingRules"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success&&result.Pricing_Rule_vod__c.length==0){com.veeva.clm.getDataForObject("Account",account,"Account_Group_vod__c",com_veeva_clm_accountGroup);}
else
com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,result);};window["com_veeva_clm_listPriceTypeId_getListPrice_Product_Account"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success&&result.RecordType&&result.RecordType.length>0){listPriceRecordTypeId=result.RecordType[0].ID;dateString=com.veeva.clm.getCurrentDate();query="veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId=\""+listPriceRecordTypeId+"\" AND Product_vod__c = \""+product+"\""
+" AND Account_vod__c=\""+account+"\""
+" AND Start_Date_vod__c <= \""+dateString+"\" AND End_Date_vod__c >= \""+dateString+"\"), com_veeva_clm_productAccountPricingRules(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_productAccountPricingRules(com.veeva.clm.testResult.listPrices);}else{com.veeva.clm.wrapResult("getListPrice_Product_Account",callback,result);}};recordTypeQuery="veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType=\"Pricing_Rule_vod__c\" AND Name_vod__c=\"List_Price_Rule_vod\"),com_veeva_clm_listPriceTypeId_getListPrice_Product_Account(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(recordTypeQuery);else
com_veeva_clm_listPriceTypeId_getListPrice_Product_Account(testResult.listPriceRecordType);},getApprovedDocument:function(vault_id,document_num,callback){var topicProducts;var detailProducts;var detailGroupProducts;var productGroups;ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("vault_id",vault_id);if(ret.success==false){com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}
ret=this.checkArgument("document_num",document_num);if(ret.success==false){com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}
window["com_veeva_clm_DocumentTypeId_getDocument"]=function(result){if(result.success&&result.Approved_Document_vod__c&&result.Approved_Document_vod__c.length==1){var productsWithDetailGroups;if(detailGroupProducts!=undefined&&productGroups!=undefined&&productGroups.length>0){productsWithDetailGroups=[];var groupCount=0;for(var i=0;i<detailGroupProducts.length;i++){for(var j=0;j<productGroups.length;j++){if(detailGroupProducts[i].ID!=undefined&&productGroups[j].Product_Catalog_vod__c!=undefined&&productGroups[j].Product_vod__c!=undefined&&detailGroupProducts[i].ID==productGroups[j].Product_Catalog_vod__c&&result.Approved_Document_vod__c[0].Product_vod__c==productGroups[j].Product_vod__c){productsWithDetailGroups[groupCount]={};productsWithDetailGroups[groupCount].ID={};productsWithDetailGroups[groupCount].Detail_Group_vod__c={};productsWithDetailGroups[groupCount].ID=productGroups[j].Product_vod__c;productsWithDetailGroups[groupCount].Detail_Group_vod__c=detailGroupProducts[i].ID;groupCount++;break;}}}}
if(topicProducts&&topicProducts.length>0){for(var j=0;j<topicProducts.length;j++){if(result.Approved_Document_vod__c[0].Product_vod__c===topicProducts[j].ID){if(productsWithDetailGroups!=undefined&&productsWithDetailGroups.length>0){for(var i=0;i<productsWithDetailGroups.length;i++){if(result.Approved_Document_vod__c[0].Detail_Group_vod__c!=undefined&&result.Approved_Document_vod__c[0].Product_vod__c==productsWithDetailGroups[i].ID&&result.Approved_Document_vod__c[0].Detail_Group_vod__c==productsWithDetailGroups[i].Detail_Group_vod__c){var ret={};ret.Approved_Document_vod__c={};ret.Approved_Document_vod__c.ID=result.Approved_Document_vod__c[0].ID;ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}}}
else{var ret={};ret.Approved_Document_vod__c={};ret.Approved_Document_vod__c.ID=result.Approved_Document_vod__c[0].ID;ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}}}}
if(detailProducts&&detailProducts.length>0){for(var k=0;k<detailProducts.length;k++){if(result.Approved_Document_vod__c[0].Product_vod__c===detailProducts[k].ID){if(productsWithDetailGroups!=undefined&&productsWithDetailGroups.length>0){for(var i=0;i<productsWithDetailGroups.length;i++){if(result.Approved_Document_vod__c[0].Detail_Group_vod__c!=undefined&&result.Approved_Document_vod__c[0].Product_vod__c==productsWithDetailGroups[i].ID&&result.Approved_Document_vod__c[0].Detail_Group_vod__c==productsWithDetailGroups[i].Detail_Group_vod__c){var ret={};ret.Approved_Document_vod__c={};ret.Approved_Document_vod__c.ID=result.Approved_Document_vod__c[0].ID;ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}}}
else{var ret={};ret.Approved_Document_vod__c={};ret.Approved_Document_vod__c.ID=result.Approved_Document_vod__c[0].ID;ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);return;}}}}
var ret={};ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);}
else if(result.success&&result.Approved_Document_vod__c&&result.Approved_Document_vod__c.length>1){var ret={};ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);}
else{if(result.code==1021){if(result.message.indexOf("Detail_Group_vod__c")>=0){approvedDocumentQuery="veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c),where(WHERE Vault_Instance_ID_vod__c=\""+vault_id
+"\" AND Vault_Document_ID_vod__c=\""+document_num+"\" AND Status_vod__c=\"Approved_vod\"),com_veeva_clm_DocumentTypeId_getDocument(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(approvedDocumentQuery);else
com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId2);}
return;}
var ret={};ret.success=true;com.veeva.clm.wrapResult("getApprovedDocument",callback,ret);}};window["com_veeva_clm_getProductGroups"]=function(result){if(result.success){productGroups=result.Product_Group_vod__c;approvedDocumentQuery="veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c,Detail_Group_vod__c),where(WHERE Vault_Instance_ID_vod__c=\""+vault_id+"\" AND Vault_Document_ID_vod__c=\""+document_num+"\" AND Status_vod__c=\"Approved_vod\"),com_veeva_clm_DocumentTypeId_getDocument(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(approvedDocumentQuery);else
com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId);}
else{if(result.code==1011){if(result.message.indexOf("Product_Group_vod__c")>=0){approvedDocumentQuery="veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c),where(WHERE Vault_Instance_ID_vod__c=\""+vault_id+"\" AND Vault_Document_ID_vod__c=\""+document_num+"\" AND Status_vod__c=\"Approved_vod\"),com_veeva_clm_DocumentTypeId_getDocument(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(approvedDocumentQuery);else
com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId2);}
return;}
com.veeva.clm.wrapResult("getApprovedDocument",callback,result);}};com.veeva.clm.getProduct_MySetup("Detail Topic",function(result){if(result.success){topicProducts=result.Product_vod__c;com.veeva.clm.getProduct_MySetup("Detail",function(result){if(result.success){detailProducts=result.Product_vod__c;com.veeva.clm.getProduct_MySetup("Detail Group",function(result){if(result.success){detailGroupProducts=result.Product_vod__c;var detailGroupIDs=[];for(var i=0;i<detailGroupProducts.length;i++){detailGroupIDs[i]=detailGroupProducts[i].ID;}
var groupArray=com.veeva.clm.joinStringArrayForIn(detailGroupIDs);if(groupArray==""){groupArray="{}";}
query="veeva:queryObject(Product_Group_vod__c),fields(ID,Product_vod__c,Product_Catalog_vod__c),where(WHERE Product_Catalog_vod__c IN "+groupArray+"),com_veeva_clm_getProductGroups(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(query);else
com_veeva_clm_getProductGroups(com.veeva.clm.testResult.productGroups);}
else{com.veeva.clm.wrapResult("getApprovedDocument",callback,result);return;}});}
else{com.veeva.clm.wrapResult("getApprovedDocument",callback,result);return;}});}else{com.veeva.clm.wrapResult("getApprovedDocument",callback,result);return;}});},launchApprovedEmail:function(email_template,email_fragments,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;if(email_template==undefined||email_template==null){email_template="";}
if(email_fragments==undefined||email_fragments==null){email_fragments="";}
request=null;window["com_veeva_clm_launchApprovedEmail"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success){ret={};ret.success=true;if(result.code!=undefined){ret.code=result.code;ret.message=result.message;}
com.veeva.clm.wrapResult("launchApprovedEmail",callback,ret);}else{ret={};ret.success=false;ret.code=result.code;ret.message="Request: "+request+" failed: "+result.message;com.veeva.clm.wrapResult("launchApprovedEmail",callback,ret);}};request="veeva:launchApprovedEmail("+email_template+","+email_fragments+"),callback(com_veeva_clm_launchApprovedEmail)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request);else
com_veeva_clm_launchApprovedEmail(com.veeva.clm.testResult.approvedEmailId);},getDataForCurrentObject:function(object,field,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("getDataForCurrentObject",callback,ret);return;}
ret=this.checkArgument("field",field);if(ret.success==false){com.veeva.clm.wrapResult("getDataForCurrentObject",callback,ret);return;}
window["com_veeva_clm_getCurrentObjectField"]=function(result){com.veeva.clm.wrapResult("getDataForCurrentObject",callback,result);}
lowerName=object.toLowerCase();request="veeva:getDataForObjectV2("+object+"),fieldName("+field+"),com_veeva_clm_getCurrentObjectField(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request,callback);else
com_veeva_clm_getCurrentObjectField(com.veeva.clm.testResult.common);},getDataForObject:function(object,record,field,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("getDataForObject",callback,ret);return;}
ret=this.checkArgument("record",record);if(ret.success==false){com.veeva.clm.wrapResult("getDataForObject",callback,ret);return;}
ret=this.checkArgument("field",field);if(ret.success==false){com.veeva.clm.wrapResult("getDataForObject",callback,ret);return;}
window["com_veeva_clm_getObjectField"]=function(result){com.veeva.clm.wrapResult("getDataForObject",callback,result);}
request="veeva:getDataForObjectV2("+object+"),objId("+record+"),fieldName("+field+"),com_veeva_clm_getObjectField(result)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request,callback);else
com_veeva_clm_getObjectField(com.veeva.clm.testResult.common);},createRecord:function(object,values,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("createRecord",callback,ret);return;}
ret=this.checkArgument("values",values);if(ret.success==false){com.veeva.clm.wrapResult("createRecord",callback,ret);return;}
request="veeva:saveObjectV2("+object+"),value("+JSON.stringify(values)+"),callback(com_veeva_clm_createRecord)";window["com_veeva_clm_createRecord"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success){ret={};ret.success=true;ret.operation=result.operation;ret[object]={};ret[object].ID=result.objectId;if(result.code!=undefined){ret.code=result.code;ret.message=result.message;}
com.veeva.clm.wrapResult("createRecord",callback,ret);}else{ret={};ret.success=false;ret.code=2100;ret.message="Request: "+request+" failed: "+result.message;com.veeva.clm.wrapResult("createRecord",callback,ret);}};if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request);else
com_veeva_clm_createRecord(com.veeva.clm.testResult.common);},updateRecord:function(object,record,values,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("updateRecord",callback,ret);return;}
ret=this.checkArgument("record",record);if(ret.success==false){com.veeva.clm.wrapResult("updateRecord",callback,ret);return;}
ret=this.checkArgument("values",values);if(ret.success==false){com.veeva.clm.wrapResult("updateRecord",callback,ret);return;}
values.IdNumber=record;request="veeva:saveObjectV2("+object+"),value("+JSON.stringify(values)+"),callback(com_veeva_clm_updateRecord)";window["com_veeva_clm_updateRecord"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success){ret={};ret.success=true;ret.operation=result.operation;ret[object]={};ret[object].ID=result.objectId;if(result.code!=undefined){ret.code=result.code;ret.message=result.message;}
com.veeva.clm.wrapResult("updateRecord",callback,ret);}else{ret={};ret.success=false;ret.code=2100;ret.message="Request: "+request+" failed: "+result.message;com.veeva.clm.wrapResult("updateRecord",callback,ret);}};if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request);else
com_veeva_clm_updateRecord(com.veeva.clm.testResult.common);},gotoSlide:function(keyMessage,presentation){ret=this.checkArgument("keyMessage",keyMessage);if(ret.success==false){return ret;}
request=null;if(presentation==undefined||presentation==null||presentation==""){request="veeva:gotoSlide("+keyMessage+")";}else{request="veeva:gotoSlide("+keyMessage+","+presentation+")";}
if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request);},nextSlide:function(){request="veeva:nextSlide()";com.veeva.clm.runAPIRequest(request);},prevSlide:function(){request="veeva:prevSlide()";com.veeva.clm.runAPIRequest(request);},getUTCdatetime:function(object,record,field,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("getUTCdatetime",callback,ret);return;}
ret=this.checkArgument("record",record);if(ret.success==false){com.veeva.clm.wrapResult("getUTCdatetime",callback,ret);return;}
ret=this.checkArgument("field",field);if(ret.success==false){com.veeva.clm.wrapResult("getUTCdatetime",callback,ret);return;}
window["com_veeva_clm_getUTCdatetime"]=function(result){com.veeva.clm.wrapResult("getUTCdatetime",callback,result);}
request="veeva:getDataForObjectV3("+object+"),objId("+record+"),fieldName("+field+"),getUTCdatetime(true),callback(com_veeva_clm_getUTCdatetime)";if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request,callback);else
com_veeva_clm_getUTCdatetime(com.veeva.clm.testResult.common);},updateCurrentRecord:function(object,values,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("object",object);if(ret.success==false){com.veeva.clm.wrapResult("updateCurrentRecord",callback,ret);return;}
ret=this.checkArgument("values",values);if(ret.success==false){com.veeva.clm.wrapResult("updateCurrentRecord",callback,ret);return;}
request="veeva:saveObjectV2("+object+"),updateCurrentRecord(),value("+JSON.stringify(values)+"),callback(com_veeva_clm_updateCurrentRecord)";window["com_veeva_clm_updateCurrentRecord"]=function(result){result=com.veeva.clm.formatResult(result);if(result.success){ret={};ret.success=true;ret[object]={};ret[object].ID=result.objectId;if(result.code!=undefined){ret.code=result.code;ret.message=result.message;}
com.veeva.clm.wrapResult("updateCurrentRecord",callback,ret);}else{ret={};ret.success=false;ret.code=2100;ret.message="Request: "+request+" failed: "+result.message;com.veeva.clm.wrapResult("updateCurrentRecord",callback,ret);}};if(!com.veeva.clm.testMode)
com.veeva.clm.runAPIRequest(request);else
com_veeva_clm_updateCurrentRecord(com.veeva.clm.testResult.common);},createMultichannelActivityLine:function(values,callback){ret=this.checkCallbackFunction(callback);if(ret.success==false)
return ret;ret=this.checkArgument("values",values);if(ret.success==false){com.veeva.clm.wrapResult("createMultichannelActivityLine",callback,ret);return;}
window["com_veeva_clm_createActivityLine"]=function(result){com.veeva.clm.wrapResult("createMultichannelActivityLine",callback,result);}
request="veeva:createActivityLine(),value("+JSON.stringify(values)+"),com_veeva_clm_createActivityLine(result)";com.veeva.clm.runAPIRequest(request,callback);},joinStringArrayForIn:function(result){var ret="";if(result.length>0){for(i=0;i<result.length;i++){if(i==0)
ret+="{\""+result[i]+"\"";else{ret+=",\""+result[i]+"\"";}}
ret+="}";}
return ret;},joinFieldArray:function(fields){var ret="";if(fields.length>0){for(i=0;i<fields.length;i++){if(i==0)
ret+=fields[i];else{ret+=","+fields[i];}}}
return ret;},isFunction:function(toCheck){var getType={};return toCheck&&getType.toString.call(toCheck)==='[object Function]';},checkCallbackFunction:function(toCheck){ret={};if(toCheck==undefined){ret.success=false;ret.code=2000
ret.message="callback is missing";return ret;}
if(this.isFunction(toCheck)==false){ret.success=false;ret.code=2001;ret.message="callback is not a JavaScript function";}else{ret.success=true;}
return ret;},checkArgument:function(name,value){ret={};ret.success=true;if(value==undefined||value==null||value==""){ret.success=false;ret.code=2002;ret.message=name+" is empty";}
return ret;},getCurrentDate:function(){var currentDate=new Date();dateString=currentDate.getFullYear().toString();month=currentDate.getMonth()+1;if(month<10){dateString+="-0"+month;}
else{dateString+="-"+month;}
date=currentDate.getDate();if(date<10){dateString+="-0"+date;}else{dateString+="-"+date;}
return dateString;},formatResult:function(result){if(com.veeva.clm.isWin8()){if(typeof result=="string"){result=eval("("+result+")");}}
return result;},wrapResult:function(apiName,userCallback,result){result=com.veeva.clm.formatResult(result);if(result.success)
userCallback(result);else{result.message=apiName+": "+result.message;userCallback(result);}},runAPIRequest:function(request,callback){if(com.veeva.clm.isEngage()){com.veeva.clm.engageAPIRequest(request,callback);}else if(com.veeva.clm.isWin8()){if(typeof(window.external.notify)!="undefined"){window.external.notify(request);}}
else{document.location=request;}},isWin8:function(){if(navigator.platform.toLowerCase().indexOf("win")>=0)
return true;else
return false;},isEngage:function(){if(window.self!==window.top){return true;}
return false;},engageAPIRequest:function(request,callback){if(com.veeva.clm.engageHasListener===false){com.veeva.clm.engageHasListener=true;com.veeva.clm.engageCallbackId=0;function receiveMessage(event){var data=JSON.parse(event.data);var callbackId=data.callback;if(callbackId!==undefined&&callbackId!==null){var callbackFunc=com.veeva.clm.engageCallbackList[callbackId];if(callbackFunc!==undefined&&callbackFunc!==null){callbackFunc.call(null,data);delete com.veeva.clm.engageCallbackList[callbackId];}}}
if(!window.addEventListener){window.attachEvent("onmessage",receiveMessage);}else{window.addEventListener("message",receiveMessage,false);}}
setTimeout(function(){com.veeva.clm.engageCallbackId+=1;var callbackId=com.veeva.clm.engageCallbackId;com.veeva.clm.engageCallbackList[callbackId]=callback;var tokens=request.split(",");if(tokens.length>1){tokens[tokens.length-1]=callbackId;request=tokens.join();}
window.parent.postMessage(request,"*");},1);},listPriceRecordTypeId:null,accountId:null,addressId:null,callId:null,tsfId:null,userId:null,presentationId:null,keyMessageId:null,engageHasListener:false,engageCallbackId:null,engageCallbackList:[],testMode:false,testResult:null};